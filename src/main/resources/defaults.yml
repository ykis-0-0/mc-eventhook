schema: # Do NOT change this section unless you know what you are doing!
  epoch: 0
  revision: 0

# This should be 'events' to be detected by the Plugin
# Where all the event hook resides
events_sample:
  # A user-defined unique name for an entry
  name:
    # Event Classes the listener should hook itself to
    event:
      # A Fully Qualified Class Name for the Event in interest
      class: org.bukkit.event.entity.PlayerTeleportEvent
      # Priority level, must be a value defined in the Enum org.bukkit.event.EventPriority
      priority: MONITOR
    # ! Not Implemented As of this Version
    # Extra predicate / data to filter / feed the triggered program
    matchers:
      # Each element is an item
      - feed: true # This data should feed into the program
        eval: !enum # Notifies the plugin that the final enum should be casted into String
          - method: getCause # Name of method in the current value (the Event if it is the first stage)
            expect_type: org.bukkit.event.player.PlayerTeleportEvent.TeleportCause # The expected return type after the method call
        match: ~ # ~ means null, Could be omitted if not intended as a predicate
      - feed: false
        eval:
          - method: getFrom
            expect_type: org.bukkit.Location
          - method: getWorld
            expect_type: org.bukkit.World
          - method: getName
            expect_type: java.lang.String
        match: 'world' # the final result should be equal(==) to this
      - feed: true
        eval:
          - method: getPlayer
            expect_type: org.bukkit.entity.Player
          - method: getDisplayName
            expect_type: java.lang.String
          - within_class: org.bukkit.ChatColor # Use a method from another class (must be static for now?)
            method: stripColor
            expect_type: java.lang.String
    # What to execute if the hook is triggered
    run:
      # script or binary, also resolved against `workdir`
      exec: "do_something.sh"
      # (default / omitted / null) points to server's pwd
      workdir: /server/minecraft/
      # Report event class as first cmdline arg, Omitted if false
      announce: true
      args:
        - am
        - i
